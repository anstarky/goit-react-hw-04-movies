(this["webpackJsonpgoit-react-hw-04-movies"]=this["webpackJsonpgoit-react-hw-04-movies"]||[]).push([[0],{15:function(e,t,a){e.exports={list:"Navigation_list__1S1qX",item:"Navigation_item__1snbF",item_link:"Navigation_item_link__D0K47",item_link_active:"Navigation_item_link_active__2cgPy"}},18:function(e,t,a){e.exports={actors:"MovieCastPage_actors__3s-z_",actors_item:"MovieCastPage_actors_item__idKTY",actors_item_title:"MovieCastPage_actors_item_title__2q_Hr",actors_item_image:"MovieCastPage_actors_item_image__1zLRm"}},27:function(e,t,a){e.exports={title:"HomePage_title__vMDRw"}},29:function(e,t,a){e.exports={search_form:"MoviesPage_search_form__2KkWm"}},30:function(e,t,a){e.exports=a(54)},36:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(24),i=a.n(c),s=(a(35),a(36),a(5)),o=a(14),u="/",l="/movies",m="/movies/:moviesId",p="/movies/:moviesId/cast",v="/movies/:moviesId/reviews",h=a(15),f=a.n(h),d=function(){return r.a.createElement("ul",{className:f.a.list},r.a.createElement("li",{className:f.a.item},r.a.createElement(s.c,{exact:!0,to:u,className:f.a.item_link,activeClassName:f.a.item_link_active},"Home")),r.a.createElement("li",{className:f.a.item},r.a.createElement(s.c,{to:l,className:f.a.item_link,activeClassName:f.a.item_link_active},"Movies")))},_=a(1),b=a.n(_),g=a(2),y=a(8),w=a(9),E=a(11),k=a(10),j=a(12),x=function(){var e=Object(g.a)(b.a.mark((function e(){var t,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://api.themoviedb.org/3/trending/all/day?api_key=96d3e64b658c1ff1e4d321bedcaf7556",e.prev=1,e.next=4,fetch("https://api.themoviedb.org/3/trending/all/day?api_key=96d3e64b658c1ff1e4d321bedcaf7556");case 4:return t=e.sent,e.next=7,t.json();case 7:return a=e.sent,e.abrupt("return",a.results);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(g.a)(b.a.mark((function e(t){var a,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.themoviedb.org/3/search/movie?api_key=96d3e64b658c1ff1e4d321bedcaf7556&language=en-US&query=".concat(t,"&page=1&include_adult=false"),e.prev=1,e.next=4,fetch(a);case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r.results);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),O={getTrendingMovies:x,getMovieDetail:function(){var e=Object(g.a)(b.a.mark((function e(t){var a,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.themoviedb.org/3/movie/".concat(t,"?api_key=96d3e64b658c1ff1e4d321bedcaf7556&language=ru"),e.prev=1,e.next=4,fetch(a);case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),getMovieCast:function(){var e=Object(g.a)(b.a.mark((function e(t){var a,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.themoviedb.org/3/movie/".concat(t,"/credits?api_key=96d3e64b658c1ff1e4d321bedcaf7556"),e.prev=1,e.next=4,fetch(a);case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),getMovieReviews:function(){var e=Object(g.a)(b.a.mark((function e(t){var a,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a="https://api.themoviedb.org/3/movie/".concat(t,"/reviews?api_key=96d3e64b658c1ff1e4d321bedcaf7556&language=en-US&page=1"),e.prev=1,e.next=4,fetch(a);case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r.results);case 11:return e.prev=11,e.t0=e.catch(1),console.log(e.t0),e.abrupt("return",null);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(t){return e.apply(this,arguments)}}(),searchMovies:M},N=a(27),D=a.n(N),C=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={movies:[]},a.fecthTrendingMovies=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getTrendingMovies();case 2:t=e.sent,a.setState({movies:t});case 4:case"end":return e.stop()}}),e)}))),a}return Object(j.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.fecthTrendingMovies();case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.movies;return r.a.createElement("div",null,r.a.createElement("h1",{className:D.a.title},"Trending today"),r.a.createElement("ul",null,e.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(s.b,{to:"/movies/".concat(e.id)},e.title||e.name))}))))}}]),t}(n.Component),S=a(28),P=a.n(S),q=a(29),A=a.n(q),I=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={movies:null,query:""},a.handleChange=function(e){a.setState({query:e.target.value})},a.handleSubmit=function(e){e.preventDefault(),a.fetchSearchMovies(a.state.query);var t=a.props,n=t.location;t.history.replace({pathname:n.pathname,search:"?query=".concat(a.state.query)}),a.setState({query:""})},a.fetchSearchMovies=function(){var e=Object(g.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.searchMovies(t);case 2:n=e.sent,a.setState({movies:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(j.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location;if(e.search){var t=P.a.parse(e.search);this.fetchSearchMovies(t.query)}}},{key:"render",value:function(){var e=this.state,t=e.query,a=e.movies,n=this.props.location;return r.a.createElement("div",null,r.a.createElement("form",{onSubmit:this.handleSubmit,className:A.a.search_form},r.a.createElement("input",{type:"text",value:t,onChange:this.handleChange}),r.a.createElement("button",{type:"submit"},"Search")),a&&r.a.createElement("ul",null,a.map((function(e){return r.a.createElement("li",{key:e.id},r.a.createElement(s.b,{to:{pathname:"/movies/".concat(e.id),state:{from:n}}},e.title))}))))}}]),t}(n.Component),R=a(18),T=a.n(R),G=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={cast:null},a.fecthMovieCast=function(){var e=Object(g.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getMovieCast(t);case 2:n=e.sent,a.setState({cast:n.cast});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(j.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match,this.fecthMovieCast(t.params.moviesId);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.cast;return r.a.createElement("div",{className:T.a.actors},e&&e.map((function(e){return r.a.createElement("div",{key:e.id,className:T.a.actors_item},r.a.createElement("h3",{className:T.a.actors_item_title},"Hero: ",e.character),r.a.createElement("p",null,"Actor: ",e.name),r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w200".concat(e.profile_path),alt:"Photo_of_Actor"}))})))}}]),t}(n.Component),U=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={reviews:null},a.fecthMovieReviews=function(){var e=Object(g.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getMovieReviews(t);case 2:n=e.sent,a.setState({reviews:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a}return Object(j.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match,this.fecthMovieReviews(t.params.moviesId);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state.reviews;return r.a.createElement("div",null,e&&(0===e.length?r.a.createElement("p",null,"We don`t have any reviews for this movie"):e.map((function(e){return r.a.createElement("div",{key:e.id},r.a.createElement("h2",null,e.author),r.a.createElement("p",null,e.content))}))))}}]),t}(n.Component),H=a(7),K=a.n(H),B=function(e){function t(){var e,a;Object(y.a)(this,t);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(a=Object(E.a)(this,(e=Object(k.a)(t)).call.apply(e,[this].concat(r)))).state={movie:null},a.getMovieDetail=function(){var e=Object(g.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.getMovieDetail(t);case 2:n=e.sent,a.setState({movie:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleGoBack=function(){var e=a.props,t=e.location,n=e.history;t.state?n.push({pathname:"/movies",search:t.state.from.search}):n.push("/")},a}return Object(j.a)(t,e),Object(w.a)(t,[{key:"componentDidMount",value:function(){var e=Object(g.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=this.props.match,this.getMovieDetail(t.params.moviesId);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.props,t=e.match,a=e.location,n=this.state.movie;return r.a.createElement("div",{className:K.a.wrp_movie},n&&r.a.createElement("div",{className:K.a.wrp_about},r.a.createElement("button",{type:"button",onClick:this.handleGoBack,className:K.a.btn_goback},"\u2190 Go back"),r.a.createElement("div",{className:K.a.description},r.a.createElement("div",{className:K.a.image},r.a.createElement("img",{src:"https://image.tmdb.org/t/p/w300".concat(n.backdrop_path),alt:"poster"})),r.a.createElement("div",null,r.a.createElement("p",{className:K.a.title},"".concat(n.original_title,"  (").concat(n.release_date.slice(0,4),")")),r.a.createElement("p",null,"User Score: ",10*n.vote_average,"%"),r.a.createElement("p",{className:K.a.title},"Overview"),r.a.createElement("p",null,n.overview),r.a.createElement("p",{className:K.a.title},"Genres"),r.a.createElement("div",null,r.a.createElement("p",null,n.genres.map((function(e){return r.a.createElement("span",{key:e.id,className:K.a.genres},e.name,". ")}))))))),r.a.createElement("div",{className:K.a.wrp_about},r.a.createElement("p",{className:K.a.txt_addinfo},"Additional information"),r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(s.b,{to:{pathname:"".concat(t.url,"/cast"),state:a.state}},"Cast")),r.a.createElement("li",null,r.a.createElement(s.b,{to:{pathname:"".concat(t.url,"/reviews"),state:a.state}},"Reviews")))),r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:p,component:G}),r.a.createElement(o.b,{exact:!0,path:v,component:U})))}}]),t}(n.Component),W=function(){return r.a.createElement(s.a,null,r.a.createElement(d,null),r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:u,component:C}),r.a.createElement(o.b,{exact:!0,path:l,component:I}),r.a.createElement(o.b,{path:m,component:B}),r.a.createElement(o.a,{to:u})))};i.a.render(r.a.createElement(W,null),document.getElementById("root"))},7:function(e,t,a){e.exports={wrp_movie:"MovieDetailsPage_wrp_movie__2co5d",wrp_about:"MovieDetailsPage_wrp_about__a0-ek",title:"MovieDetailsPage_title__2Ygwq",description:"MovieDetailsPage_description__22D8_",image:"MovieDetailsPage_image__sc2U0",btn_goback:"MovieDetailsPage_btn_goback__1G1mU",genres:"MovieDetailsPage_genres__3cDKW",txt_addinfo:"MovieDetailsPage_txt_addinfo__18rYF"}}},[[30,1,2]]]);
//# sourceMappingURL=main.fe7cf55a.chunk.js.map